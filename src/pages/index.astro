---
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogIndex from "../components/BlogIndex";
const pageTitle = "首页";
const allPost = await Astro.glob("./posts/*.md");
allPost.reverse(); // 反转数组
const filterDate = (date) => {
  const dateObj = new Date(date);
  const splitDate = dateObj.toISOString().split("T")[0];
  return splitDate;
};
---

<BaseLayout pageTitle={pageTitle}>
  {
    allPost.map((item) => (
      <BlogIndex
        date={filterDate(item.frontmatter.pubDate)}
        title={item.frontmatter.title}
        desc={item.frontmatter.description}
        url={item.url}
        client:visible
      />
    ))
  }
</BaseLayout>
